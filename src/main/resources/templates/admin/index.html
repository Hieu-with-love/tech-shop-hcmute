<!DOCTYPE html>
<html lang="en" xmlns:th="https://www.thymeleaf.org">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=0">
    <meta name="description" content="POS - Bootstrap Admin Template">
    <meta name="keywords"
        content="admin, estimates, bootstrap, business, corporate, creative, management, minimal, modern,  html5, responsive">
    <meta name="author" content="Dreamguys - Bootstrap Admin Template">
    <meta name="robots" content="noindex, nofollow">
    <title>Dreams Pos admin template</title>

    <link rel="shortcut icon" type="image/x-icon" th:href="@{/admin/assets/img/favicon.jpg}">

    <link rel="stylesheet" th:href="@{/admin/assets/css/bootstrap.min.css}">

    <link rel="stylesheet" th:href="@{/admin/assets/css/animate.css}">

    <link rel="stylesheet" th:href="@{/admin/assets/css/dataTables.bootstrap4.min.css}">

    <link rel="stylesheet" th:href="@{/admin/assets/plugins/fontawesome/css/fontawesome.min.css}">
    <link rel="stylesheet" th:href="@{/admin/assets/plugins/fontawesome/css/all.min.css}">

    <link rel="stylesheet" th:href="@{/admin/assets/css/style.css}">
</head>

<body>
    <div id="global-loader">
        <div class="whirly-loader"> </div>
    </div>

    <div class="main-wrapper">

        <div th:replace="~{admin/fragments/header::admin-header}"></div>

        <div th:replace="~{admin/fragments/sidebar::admin-sidebar}"></div>

        <div class="page-wrapper">
            <div class="content">
                <div class="row">
                    <div class="col-lg-3 col-sm-6 col-12">
                        <div class="dash-widget">
                            <div class="dash-widgetimg">
                                <span><img th:src="@{/admin/assets/img/icons/dash2.svg}" alt="img"></span>
                            </div>
                            <div class="dash-widgetcontent">
                                <h5><span class="counters" th:attr="data-count=${totalPurchaseDue}">0</span></h5>
                                <h6>Total Purchase Due</h6>
                            </div>
                        </div>
                    </div>
                    <div class="col-lg-3 col-sm-6 col-12">
                        <div class="dash-widget dash1">
                            <div class="dash-widgetimg">
                                <span><img th:src="@{/admin/assets/img/icons/dash2.svg}" alt="img"></span>
                            </div>
                            <div class="dash-widgetcontent">
                                <h5><span class="counters" th:attr="data-count=${totalAvailableVouchers}">0</span></h5>
                                <h6>Total Available Vouchers</h6>
                            </div>
                        </div>
                    </div>
                    <div class="col-lg-3 col-sm-6 col-12">
                        <div class="dash-widget dash2">
                            <div class="dash-widgetimg">
                                <span><img th:src="@{/admin/assets/img/icons/product.svg}" alt="img"></span>
                            </div>
                            <div class="dash-widgetcontent">
                                <h5><span class="counters" th:attr="data-count=${totalProductsSold}">0</span></h5>
                                <h6>Total Products Sold</h6>
                            </div>
                        </div>
                    </div>
                    <div class="col-lg-3 col-sm-6 col-12">
                        <div class="dash-widget dash3">
                            <div class="dash-widgetimg">
                                <span><img th:src="@{/admin/assets/img/icons/product.svg}" alt="img"></span>
                            </div>
                            <div class="dash-widgetcontent">
                                <h5><span class="counters" th:attr="data-count=${totalProducts}">0</span></h5>
                                <h6>Total Products</h6>
                            </div>
                        </div>
                    </div>
                    <div class="col-lg-3 col-sm-6 col-12 d-flex">
                        <div class="dash-count">
                            <div class="dash-counts">
                                <h4 th:text="${userCount}">0</h4>
                                <h5>Customers</h5>
                            </div>
                            <div class="dash-imgs">
                                <i data-feather="user"></i>
                            </div>
                        </div>
                    </div>
                    <div class="col-lg-3 col-sm-6 col-12 d-flex">
                        <div class="dash-count das1">
                            <div class="dash-counts">
                                <h4 th:text="${shipperCount}">0</h4>
                                <h5>Shippers</h5>
                            </div>
                            <div class="dash-imgs">
                                <i data-feather="user-check"></i>
                            </div>
                        </div>
                    </div>
                    <div class="col-lg-3 col-sm-6 col-12 d-flex">
                        <div class="dash-count das2">
                            <div class="dash-counts">
                                <h4 th:text="${totalOrders}">0</h4>
                                <h5>Purchase Invoice</h5>
                            </div>
                            <div class="dash-imgs">
                                <i data-feather="file-text"></i>
                            </div>
                        </div>
                    </div>
                    <div class="col-lg-3 col-sm-6 col-12 d-flex">
                        <div class="dash-count das3">
                            <div class="dash-counts">
                                <h4 th:text="${totalOrdersPending}">0</h4>
                                <h5>Purchase Pending</h5>
                            </div>
                            <div class="dash-imgs">
                                <i data-feather="file"></i>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="row">
                    <div class="col-lg-6 col-sm-12 col-12 d-flex">
                        <div class="card flex-fill">
                            <div class="card-header pb-0 d-flex justify-content-between align-items-center">
                                <h4 class="card-title mb-0">Best Seller</h4>
                                <div class="dropdown">
                                    <a href="javascript:void(0);" data-bs-toggle="dropdown" aria-expanded="false"
                                       class="dropset">
                                        <i class="fa fa-ellipsis-v"></i>
                                    </a>
                                    <ul class="dropdown-menu" aria-labelledby="dropdownMenuButton">
                                        <li>
                                            <a th:href="@{/admin/products}" class="dropdown-item">Product List</a>
                                        </li>
                                    </ul>
                                </div>
                            </div>
                            <div class="card-body">
                                <div class="table-responsive dataview">
                                    <table class="table datatable ">
                                        <thead>
                                        <tr>
                                            <th>Top</th>
                                            <th>Products</th>
                                            <th>Price</th>
                                        </tr>
                                        </thead>
                                        <tbody>
                                        <tr th:each="product, iterStat : ${top4Products}">
                                            <td th:text="${iterStat.index + 1}"></td>
                                            <td class="productimgname">
                                                <a th:href="@{/manager/products/productDetail(id=${product.getId()})}"
                                                   class="product-img">
                                                    <img th:if="${product.getThumbnail().startsWith('https')}"
                                                         th:src="${product.getThumbnail()}"
                                                         alt="Ảnh sản phẩm mặc định">
                                                    <img th:unless="${product.getThumbnail().startsWith('https')}"
                                                         th:src="@{'/uploads/' + ${product.getThumbnail()}}"
                                                         alt="Ảnh sản phẩm">
                                                </a>
                                                <a th:href="@{/manager/products/productDetail(id=${product.getId()})}"
                                                   th:text="${product.getName()}"></a>
                                            </td>
                                            <td th:text="${product.price}"></td>
                                        </tr>
                                        </tbody>
                                    </table>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="col-lg-6 col-sm-12 col-12 d-flex">
                        <div class="card flex-fill">
                            <div class="card-header pb-0 d-flex justify-content-between align-items-center">
                                <h4 class="card-title mb-0">Recently Added Products</h4>
                                <div class="dropdown">
                                    <a href="javascript:void(0);" data-bs-toggle="dropdown" aria-expanded="false"
                                       class="dropset">
                                        <i class="fa fa-ellipsis-v"></i>
                                    </a>
                                    <ul class="dropdown-menu" aria-labelledby="dropdownMenuButton">
                                        <li>
                                            <a th:href="@{/admin/products}" class="dropdown-item">Product List</a>
                                        </li>
                                    </ul>
                                </div>
                            </div>
                            <div class="card-body">
                                <div class="table-responsive dataview">
                                    <table class="table datatable ">
                                        <thead>
                                        <tr>
                                            <th>Sno</th>
                                            <th>Products</th>
                                            <th>Price</th>
                                        </tr>
                                        </thead>
                                        <tbody>
                                        <tr th:each="product, iterStat : ${top4NewProducts}">
                                            <td th:text="${iterStat.index + 1}"></td>
                                            <td class="productimgname">
                                                <a th:href="@{/manager/products/productDetail(id=${product.getId()})}"
                                                   class="product-img">
                                                    <img th:if="${product.getThumbnail().startsWith('https')}"
                                                         th:src="${product.getThumbnail()}"
                                                         alt="Ảnh sản phẩm mặc định">
                                                    <img th:unless="${product.getThumbnail().startsWith('https')}"
                                                         th:src="@{'/uploads/' + ${product.getThumbnail()}}"
                                                         alt="Ảnh sản phẩm">
                                                </a>
                                                <a th:href="@{/manager/products/productDetail(id=${product.getId()})}"
                                                   th:text="${product.getName()}"></a>
                                            </td>
                                            <td th:text="${product.price}"></td>
                                        </tr>
                                        </tbody>
                                    </table>
                                </div>
                            </div>
                        </div>
                    </div>

                </div>
                <div class="card mb-0">
                    <div class="card-body">
                        <h4 class="card-title">Loyal Customers</h4>
                        <div class="table-responsive dataview">
                            <table class="table datatable ">
                                <thead>
                                    <tr>
                                        <th>Top</th>
                                        <th>Full Name</th>
                                        <th>Phone</th>
                                        <th>Email</th>
                                        <th>Dob</th>
                                        <th>Total Purchase Due</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr th:each="customer, iterStat : ${loyalCustomers}">
                                        <td th:text="${iterStat.index + 1}"></td>
                                        <td class="productimgname">
                                            <a class="product-img" href="productlist.html">
                                                <img th:if="${customer.image.startsWith('https')}"
                                                     th:src="${customer.image}"
                                                     class="product-image"
                                                     alt="Ảnh sản phẩm mặc định" width="100px;">
                                                <img th:unless="${customer.image.startsWith('https')}"
                                                     th:src="@{'/uploads/' + ${customer.image}}"
                                                     class="product-image"
                                                     alt="Ảnh sản phẩm" width="100px;">
                                            </a>

                                            <a href="productlist.html" th:text="${customer.fullName}"></a>
                                        </td>
                                        <td th:text="${customer.phone}"></td>
                                        <td th:text="${customer.email}"></td>
                                        <td th:text="${customer.dateOfBirth}"></td>
                                        <td th:text="${customer.totalPurchaseDue}"></td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>


    <script th:src="@{/admin/assets/js/jquery-3.6.0.min.js}"></script>

    <script th:src="@{/admin/assets/js/feather.min.js}"></script>

    <script th:src="@{/admin/assets/js/jquery.slimscroll.min.js}"></script>

    <script th:src="@{/admin/assets/js/jquery.dataTables.min.js}"></script>
    <script th:src="@{/admin/assets/js/dataTables.bootstrap4.min.js}"></script>

    <script th:src="@{/admin/assets/js/bootstrap.bundle.min.js}"></script>

    <script th:src="@{/admin/assets/plugins/apexchart/apexcharts.min.js}"></script>
    <script th:src="@{/admin/assets/plugins/apexchart/chart-data.js}"></script>

    <script th:src="@{/admin/assets/js/script.js}"></script>
</body>

</html>